(function(t){function e(e){for(var a,r,o=e[0],c=e[1],l=e[2],u=0,p=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var o=n[r];0!==i[o]&&(a=!1)}a&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={app:0},i={app:0},s=[];function o(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-46b98095":"dc0899d9","chunk-943805ae":"b2f08c29","chunk-d409a33e":"6a3a8df0","chunk-f3d40c4a":"bc238f74","chunk-12797c57":"87939515","chunk-c0da3af8":"4b62c233"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-46b98095":1,"chunk-943805ae":1,"chunk-d409a33e":1,"chunk-f3d40c4a":1,"chunk-12797c57":1,"chunk-c0da3af8":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-46b98095":"d41cf654","chunk-943805ae":"7a80f76f","chunk-d409a33e":"175ab5b0","chunk-f3d40c4a":"f4a584a5","chunk-12797c57":"44d32150","chunk-c0da3af8":"653e6b94"}[t]+".css",i=c.p+a,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var l=s[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===i))return e()}var p=document.getElementsByTagName("style");for(o=0;o<p.length;o++){l=p[o],u=l.getAttribute("data-href");if(u===a||u===i)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var a=e&&e.target&&e.target.src||i,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[t],d.parentNode.removeChild(d),n(s)},d.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){r[t]=0})));var a=i[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,n){a=i[t]=[e,n]}));e.push(a[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(t);var p=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(d);var n=i[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;p.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",p.name="ChunkLoadError",p.type=a,p.request=r,n[1](p)}i[t]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var p=0;p<l.length;p++)e(l[p]);var d=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},2952:function(t,e,n){t.exports=n.p+"img/next.ffcbaf3c.png"},"2b29":function(t,e,n){"use strict";n("42ed")},"42ed":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=(n("d3b7"),n("bc3a")),i=n.n(r),s={baseURL:"http://musicapi.leanapp.cn/"},o=i.a.create(s);o.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),o.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t){t.axios=o,window.axios=o,Object.defineProperties(t.prototype,{axios:{get:function(){return o}},$axios:{get:function(){return o}},$http:{get:function(){return o}}})},a["a"].use(Plugin);Plugin;var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("TopNav",{directives:[{name:"show",rawName:"v-show",value:t.$route.meta.navShow,expression:"$route.meta.navShow"}]}),n("router-view"),n("Play",{attrs:{playdata:t.$root.playingMusic.musicId}})],1)},l=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"topnav"},[n("li",[n("router-link",{attrs:{to:"/"}},[t._v("推荐歌单")])],1),n("li",[n("router-link",{attrs:{to:"/hotsong"}},[t._v("热歌榜")])],1),n("li",[n("router-link",{attrs:{to:"/search"}},[t._v("搜索")])],1)])},p=[],d=(n("2b29"),n("2877")),f={},h=Object(d["a"])(f,u,p,!1,null,"3a5e5d52",null),m=h.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"player"},[a("audio",{ref:"player",attrs:{autoplay:"",loop:"",src:"https://music.163.com/song/media/outer/url?id="+t.playdata+".mp3"},on:{timeupdate:t.timeupdate}}),a("div",{staticClass:"playerBar"},[a("i",{ref:"rollImg"},[a("img",{attrs:{src:t.song.al.picUrl}})]),a("div",{staticClass:"pre_song",on:{click:t.go_pre_song}},[a("img",{attrs:{src:n("aae0")}})]),a("div",{staticClass:"next_song",on:{click:t.go_next_song}},[a("img",{attrs:{src:n("2952")}})]),a("i",{on:{click:t.showFull}},[a("span",[t._v(t._s(t.song.name)+"-"+t._s(t.song.ar[0].name))])]),a("i",{on:{click:t.toggle_State}},[a("div",[t.$root.playingMusic.isPlay?a("div",{staticClass:"imgs4"}):a("div",{staticClass:"imgs3"})]),a("canvas",{ref:"canvas",attrs:{width:"40px",height:"40px"}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.page_state,expression:"page_state"}],staticClass:"fullpage"},[a("div",{staticClass:"fullpage_img"},[t.$root.playingMusic.isPlay?a("div",{staticClass:"imgs1",on:{click:t.toggle_State}}):a("div",{staticClass:"imgs2",on:{click:t.toggle_State}}),a("img",{attrs:{src:t.song.al.picUrl}})]),a("div",{staticClass:"fullpage_top"},[a("h1",[t._v(t._s(t.song.name)+"-"+t._s(t.song.ar[0].name))]),a("span",{on:{click:function(e){t.page_state=!1}}},[t._v("下去")])]),a("div",{staticClass:"ul_before"},[a("ul",{ref:"lyrics_ul"},t._l(t.newarr_lyric,(function(e,n){return a("li",{key:n,class:{active:n==t.currentIndex},on:{click:function(n){return t.jumpIndex(e.time)}}},[t._v(" "+t._s(e.str)+" ")])})),0)]),a("div",{staticClass:"comment_part"},[a("p",{staticClass:"comment_text"},[t._v("精彩评论")]),a("div",{staticClass:"comment_list"},t._l(t.comment_value,(function(e){return a("div",{key:e.commentId,staticClass:"comment_item"},[a("div",{staticClass:"comment_head"},[a("img",{attrs:{src:e.user.avatarUrl}})]),a("div",{staticClass:"comment_wrap"},[a("div",{staticClass:"comment_header"},[a("div",{staticClass:"comment_meta"},[a("span",[t._v(t._s(e.user.nickname))]),a("span",{staticClass:"comment_time"},[t._v(t._s(t._f("formatData")(e.time)))])]),t._m(0,!0)]),a("div",{staticClass:"comment_content"},[a("span",[t._v(t._s(e.content))])])])])})),0)])])])},v=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment_like"},[a("i",{staticClass:"comment_likeicn"},[a("img",{attrs:{src:n("8312"),alt:""}})])])}],y=(n("d81d"),n("a9e3"),n("ac1f"),n("466d"),n("1276"),{props:["playdata"],components:{},filters:{formatData:function(t){var e=new Date(t),n=e.getHours()+":"+e.getMinutes();return n}},mounted:function(){this.$refs.rollImg.style.animationPlayState="paused"},data:function(){return{song:{al:{picUrl:""},name:"未选取歌曲 ",ar:[{name:" 未选取歌手"}]},play_state:!1,newarr_lyric:[],onoff_state:!0,page_state:!1,currentIndex:0,comment_value:[],now_playerlist:[]}},watch:{playdata:function(t){var e=this;return this.now_playerlist=[],this.now_playerlist=this.$root.playerlistsss,this.play_state=!0,this.$refs.rollImg.style.animationPlayState="running",this.$root.playingMusic.isPlay=!0,this.page_state=!0,this.$http("/song/detail?ids="+t).then((function(t){e.song=t.data.songs[0]})),this.$http("/comment/music?id="+t).then((function(t){e.comment_value=t.data.comments})),this.$http.defaults.baseURL="http://music.kele8.cn",this.$http.get("/lyric?id="+t).then((function(t){var n=t.data.lrc.lyric.split("\n"),a=/\[(\d+):(\d+\.\d+)\](.+)/;e.newarr_lyric=n.map((function(t){if(!t)return!1;//!!!!!!!!!
var e=t.match(a);if(!e)return!1;var n=parseInt(60*e[1])+parseInt(e[2]);return{time:n,str:e[3]}}))})),this.$http.defaults.baseURL="http://musicapi.leanapp.cn/",t}},methods:{showFull:function(){!0===this.play_state&&(this.page_state=!0)},timeupdate:function(t){var e=t.target,n=e.currentTime,a=e.duration;for(var r in this.newarr_lyric){if(r==this.newarr_lyric.length-2){this.currentIndex=r;break}var i=this.newarr_lyric[r].time,s=this.newarr_lyric[parseInt(r)+1].time;if(i<=n&&n<s){this.currentIndex=r,this.currentIndex>=2&&(this.$refs.lyrics_ul.style.marginTop=56*-(this.currentIndex-2)+"px");break}}this.initCanvas(n,a)},initCanvas:function(t,e){var n=this.$refs.canvas,a=n.getContext("2d");a.beginPath(),a.strokeStyle="#494b4b",a.arc(20,20,18,0,2*Math.PI),a.stroke(),a.closePath(),a.beginPath(),a.strokeStyle="red",a.arc(20,20,18,0,2*Math.PI*(t/e)),a.stroke(),a.closePath()},toggle_State:function(){!0===this.play_state&&(this.$root.playingMusic.isPlay?(this.$root.playingMusic.isPlay=!1,this.onoff_state=!1,this.$refs.player.pause(),this.$refs.rollImg.style.animationPlayState="paused"):(this.$refs.player.play(),this.$root.playingMusic.isPlay=!0,this.onoff_state=!0,this.$refs.rollImg.style.animationPlayState="running"))},jumpIndex:function(t){var e=this.$refs.player;e.currentTime=t},go_pre_song:function(){var t=this.now_playerlist;for(var e in t)if(t[e].id===this.playdata){var n=Number(e)-1;if(n<0)return!1;var a=t[n].id;return this.$root.playingMusic.musicId=a,!0}},go_next_song:function(){var t=this.now_playerlist;for(var e in console.log(t),t)if(t[e].id===this.playdata){console.log(e);var n=Number(e)+1;if(n>=t.length)return!1;var a=t[n].id;return this.$root.playingMusic.musicId=a,!0}}}}),_=y,b=(n("d91a"),Object(d["a"])(_,g,v,!1,null,"69ac88d1",null)),k=b.exports,w={components:{TopNav:m,Play:k},data:function(){return{playdata:this.$root.playingMusic.musicId}}},P=w,x=(n("034f"),Object(d["a"])(P,c,l,!1,null,null,null)),C=x.exports,$=n("8c4f");a["a"].use($["a"]);var S=[{path:"/",name:"ReCommend",component:function(){return n.e("chunk-943805ae").then(n.bind(null,"a51f"))},meta:{navShow:!0}},{path:"/hotsong",name:"Hotsong",component:function(){return Promise.all([n.e("chunk-f3d40c4a"),n.e("chunk-12797c57")]).then(n.bind(null,"e864"))},meta:{navShow:!0}},{path:"/search",name:"Search",component:function(){return n.e("chunk-46b98095").then(n.bind(null,"2d3b"))},meta:{navShow:!0}},{path:"/gedan",name:"Gedan",component:function(){return n.e("chunk-d409a33e").then(n.bind(null,"5435"))},meta:{navShow:!0}},{path:"/gedanDT/:id",name:"GedanDT",props:!0,component:function(){return Promise.all([n.e("chunk-f3d40c4a"),n.e("chunk-c0da3af8")]).then(n.bind(null,"d587"))},meta:{navShow:!1}}],I=new $["a"]({model:"hash",routes:S}),j=I;a["a"].config.productionTip=!1;var M={musicId:0,isPlay:!0},O=[],T="";new a["a"]({router:j,data:{playingMusic:M,playerlistsss:O,ID:T},render:function(t){return t(C)}}).$mount("#app")},8312:function(t,e,n){t.exports=n.p+"img/good.ca85d511.png"},"85ec":function(t,e,n){},a90c:function(t,e,n){},aae0:function(t,e,n){t.exports=n.p+"img/pre.7999bdb5.png"},d91a:function(t,e,n){"use strict";n("a90c")}});
//# sourceMappingURL=app.45298445.js.map